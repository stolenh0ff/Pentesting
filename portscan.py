import nmap
import os

os.system("clear")

begin = 1
end = 80



class Network(object):
    def __init__(self):
        ip = input("IP: ")
        self.ip = ip

    def networkscanner(self):
        if len(self.ip) == 0:
            network = "192.168.1.1/24"
        else:
            network = self.ip + "/24"

        print("SCANNING")

        nm = nmap.PortScanner()
        nm.scan(hosts=network, arguments="-sn")
        hosts_list = [(x, nm[x]["status"]["state"]) for x in nm.all_hosts()]
        for host, status in hosts_list:
            print("HOST\t{}".format(host))



target = '13.107.246.33'

scanner = nmap.PortScanner()

for i in range(begin,end+1):

    res = scanner.scan(target,str(i))

    res = res['scan'][target]['tcp'][i]['state']
   
    print(f'port {i} is {res}.')