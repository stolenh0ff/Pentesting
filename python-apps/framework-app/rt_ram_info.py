import matplotlib.pyplot as plt
from matplotlib.animation import FuncAnimation
from psutil import virtual_memory

frame_len = 200
y = []
fig = plt.figure(figsize=(8,3))

def animate(i):
    y.append(virtual_memory().percent)

    if len(y) <= frame_len:
        plt.cla()
        plt.plot(y, 'r', label = 'Real-Time RAM Usage')
    else :
        plt.cla()
        plt.plot(y[-frame_len:], 'r', label = 'Real-Time RAM Usage')

    plt.ylim(0, 100)
    plt.xlabel('Time (s)')
    plt.ylabel('RAM Usage (%)')
    plt.legend(loc = 'upper right')
    plt.tight_layout()

animation = FuncAnimation(plt.gcf(), animate, interval = 1000)

plt.show()